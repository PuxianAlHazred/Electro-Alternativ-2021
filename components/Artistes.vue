<template>
  <section>
    <div class="artistes">
      <!-- Image -->
      <div class="container">

        <div class="wopper">
          <div class="marquee marqueelineup">
            <p>
              LINEUP 2021 - LINEUP 2021 - LINEUP 2021 - LINEUP 2021 - LINEUP 2021 -
            </p>
            <p >
              LINEUP 2021 - LINEUP 2021 - LINEUP 2021 - LINEUP 2021 - LINEUP 2021 -
            </p>
          </div>
        </div>
        <ul>
          <li class="imagehover">
            <h2 class="artiste">arabian panther</h2>
            <h3>DJSET - <span></span></h3>
            <div class="date">
                <h4> <span></span></h4>
            </div>
            <div class="lol">
              <img loading="lazy" class="follow f3" src="images/artistes/artiste1.webp">
              <img loading="lazy" class="follow f2" src="images/artistes/artiste1.webp">
              <img loading="lazy" class="follow f1" src="images/artistes/artiste1.webp">
            </div>
          </li>
          <li class="imagehover">
            <h2 class="artiste">chapelier fou ensemb7e live</h2>
            <h3>LIVESET - <span class="cuisines">AUDITORIUM SAINT PIERRE DES CUISINES</span></h3>
            <div class="date">
                <h4>15 <span>sept</span></h4>
            </div>
            <div class="lol">
              <img loading="lazy" class="follow f3" src="images/artistes/artiste2.webp">
              <img loading="lazy" class="follow f2" src="images/artistes/artiste2.webp">
              <img loading="lazy" class="follow f1" src="images/artistes/artiste2.webp">
            </div>
          </li>
          <li class="imagehover">
            <h2 class="artiste">dj marcelle</h2>
            <h3>DJSET - <span></span></h3>
            <div class="date">
                <h4> <span></span></h4>
            </div>
            <div class="lol">
              <img loading="lazy" class="follow f3" src="images/artistes/artiste3.webp">
              <img loading="lazy" class="follow f2" src="images/artistes/artiste3.webp">
              <img loading="lazy" class="follow f1" src="images/artistes/artiste3.webp">
            </div>
          </li>
          <li class="imagehover">
            <h2 class="artiste">djrum live</h2>
            <h3>LIVESET - <span></span></h3>
            <div class="date">
                <h4> <span></span></h4>
            </div>
            <div class="lol">
              <img loading="lazy" class="follow f3" src="images/artistes/artiste4.webp">
              <img loading="lazy" class="follow f2" src="images/artistes/artiste4.webp">
              <img loading="lazy" class="follow f1" src="images/artistes/artiste4.webp">
            </div>
          </li>
          <li class="imagehover">
            <h2 class="artiste">esther</h2>
            <h3>DJSET - <span></span></h3>
            <div class="date">
                <h4> <span></span></h4>
            </div>
            <div class="lol">
              <img loading="lazy" class="follow f3" src="images/artistes/artiste5.webp">
              <img loading="lazy" class="follow f2" src="images/artistes/artiste5.webp">
              <img loading="lazy" class="follow f1" src="images/artistes/artiste5.webp">
            </div>
          </li>
          <li class="imagehover">
            <h2 class="artiste">giant swan live</h2>
            <h3>LIVESET - <span></span></h3>
            <div class="date">
                <h4> <span></span></h4>
            </div>
            <div class="lol">
              <img loading="lazy" class="follow f3" src="images/artistes/artiste6.webp">
              <img loading="lazy" class="follow f2" src="images/artistes/artiste6.webp">
              <img loading="lazy" class="follow f1" src="images/artistes/artiste6.webp">
            </div>
          </li>
          <li class="imagehover">
            <h2 class="artiste">hysteria temple fondation </h2>
            <h3>LIVESET (paul ritch + kmyle) - <span></span></h3>
            <div class="date">
                <h4> <span></span></h4>
            </div>
            <div class="lol">
              <img loading="lazy" class="follow f3" src="images/artistes/artiste7.webp">
              <img loading="lazy" class="follow f2" src="images/artistes/artiste7.webp">
              <img loading="lazy" class="follow f1" src="images/artistes/artiste7.webp">
            </div>
          </li>
          <li class="imagehover">
            <h2 class="artiste">jasss</h2>
            <h3>DJSET - <span></span></h3>
            <div class="date">
                <h4> <span></span></h4>
            </div>
            <div class="lol">
              <img loading="lazy" class="follow f3" src="images/artistes/artiste8.webp">
              <img loading="lazy" class="follow f2" src="images/artistes/artiste8.webp">
              <img loading="lazy" class="follow f1" src="images/artistes/artiste8.webp">
            </div>
          </li>
          <li class="imagehover">
            <h2 class="artiste">kendal</h2>
            <h3>DJSET - <span></span></h3>
            <div class="date">
                <h4> <span></span></h4>
            </div>
            <div class="lol">
              <img loading="lazy" class="follow f3" src="images/artistes/artiste9.webp">
              <img loading="lazy" class="follow f2" src="images/artistes/artiste9.webp">
              <img loading="lazy" class="follow f1" src="images/artistes/artiste9.webp">
            </div>
          </li>
          <li class="imagehover">
            <h2 class="artiste">kiddy smile</h2>
            <h3>DJSET - <span></span></h3>
            <div class="date">
                <h4> <span></span></h4>
            </div>
            <div class="lol">
              <img loading="lazy" class="follow f3" src="images/artistes/artiste10.webp">
              <img loading="lazy" class="follow f2" src="images/artistes/artiste10.webp">
              <img loading="lazy" class="follow f1" src="images/artistes/artiste10.webp">
            </div>
          </li>
          <li class="imagehover">
            <h2 class="artiste">lena willikens</h2>
            <h3>DJSET - <span></span></h3>
            <div class="date">
                <h4> <span></span></h4>
            </div>
            <div class="lol">
              <img loading="lazy" class="follow f3" src="images/artistes/artiste11.webp">
              <img loading="lazy" class="follow f2" src="images/artistes/artiste11.webp">
              <img loading="lazy" class="follow f1" src="images/artistes/artiste11.webp">
            </div>
          </li>
          <li class="imagehover">
            <h2 class="artiste">louisahhh live band</h2>
            <h3>LIVESET - <span></span></h3>
            <div class="date">
                <h4> <span></span></h4>
            </div>
            <div class="lol">
              <img loading="lazy" class="follow f3" src="images/artistes/artiste12.webp">
              <img loading="lazy" class="follow f2" src="images/artistes/artiste12.webp">
              <img loading="lazy" class="follow f1" src="images/artistes/artiste12.webp">
            </div>
          </li>
          <li class="imagehover">
            <h2 class="artiste">naranja</h2>
            <h3>DJSET - <span></span></h3>
            <div class="date">
                <h4> <span></span></h4>
            </div>
            <div class="lol">
              <img loading="lazy" class="follow f3" src="images/artistes/artiste13.webp">
              <img loading="lazy" class="follow f2" src="images/artistes/artiste13.webp">
              <img loading="lazy" class="follow f1" src="images/artistes/artiste13.webp">
            </div>
          </li>
          <li class="imagehover">
            <h2 class="artiste">pablo bozzi</h2>
            <h3>DJSET - <span></span></h3>
            <div class="date">
                <h4> <span></span></h4>
            </div>
            <div class="lol">
              <img loading="lazy" class="follow f3" src="images/artistes/artiste14.webp">
              <img loading="lazy" class="follow f2" src="images/artistes/artiste14.webp">
              <img loading="lazy" class="follow f1" src="images/artistes/artiste14.webp">
            </div>
          </li>
          <li class="imagehover">
            <h2 class="artiste">rebekah</h2>
            <h3>DJSET - <span></span></h3>
            <div class="date">
                <h4> <span></span></h4>
            </div>
            <div class="lol">
              <img loading="lazy" class="follow f3" src="images/artistes/artiste15.webp">
              <img loading="lazy" class="follow f2" src="images/artistes/artiste15.webp">
              <img loading="lazy" class="follow f1" src="images/artistes/artiste15.webp">
            </div>
          </li>
          <li class="imagehover">
            <h2 class="artiste">wallis</h2>
            <h3>LIVESET - <span></span></h3>
            <div class="date">
                <h4> <span></span></h4>
            </div>
            <div class="lol">
              <img loading="lazy" class="follow f3" src="images/artistes/artiste16.webp">
              <img loading="lazy" class="follow f2" src="images/artistes/artiste16.webp">
              <img loading="lazy" class="follow f1" src="images/artistes/artiste16.webp">
            </div>
          </li>
        </ul>
      </div>

    </div>
  </section>
</template>

<script>
  export default {
    data: () => ({
    }),
    computed: {
    },
    methods: {
      follow() {
        if( window.innerWidth > 767) {
          $('.imagehover').mouseenter(function(e){
            $(this).find('.follow').addClass('visible')
            var height = $(this).find('.follow').height();
            $(this).find('.follow').css({left:e.pageX, top: - height / 4});
          }).mousemove(function(e){
            var height = $(this).find('.follow').height();
            $(this).find('.follow').css({left:e.pageX, top: - height / 4});
          }).mouseleave(function(e){
            $(this).find('.follow').removeClass('visible');
          });
        }
      },
      opacity() {
        this.$gsap.utils.toArray(".imagehover").forEach(e => {
          if( window.innerWidth > 767) {

            var artiste = e.getElementsByClassName('artiste');
            var date = e.getElementsByClassName('date');
            var titleArtiste = this.$gsap.timeline({paused:true}), SplitText = new SplitType(artiste , {type:"chars"}), chars = SplitText.chars;
                titleArtiste.from(chars, {delay: 0, duration: 0.1, opacity:0, x:-50, transformOrigin:"0% 50% 100",  ease:"power2.inOut", stagger: 0.1}, "+=0");
            var dateArtiste = this.$gsap.timeline({paused:true}), SplitDate = new SplitType(date , {type:"words"}), words = SplitDate.words;
                dateArtiste.from(words, {delay: 0.3, duration: 0.5, opacity:0, x:100, transformOrigin:"0% 50% 100",  ease:"power2.inOut", stagger: 0}, "+=0");

            var blocArtiste = this.$gsap.timeline({
              scrollTrigger: {
                    trigger: e,
                    start: "center-=25px bottom-=100px",
                    end: "top-=25px top+=75px",
                    scrub: false,
                    toggleActions: "play reverse play reverse",
                    onEnterBack: e => {
                      titleArtiste.play();
                      dateArtiste.play();
                    },
                    onLeaveBack: e => {
                      titleArtiste.reverse();
                      dateArtiste.reverse();
                    },
                    onEnter: e => {
                      titleArtiste.play();
                      dateArtiste.play();
                    },
                    onLeave: e => {
                      titleArtiste.reverse();
                      dateArtiste.reverse();
                    },
                    //markers: {startColor: "black", endColor: "black", fontSize: "25px", fontWeight: "bold", indent: 0}
              }
            }).fromTo(e, {  x: -100, opacity: 0, ease: "linear"}, {  x: 0, opacity: 1, ease: "lineary"});
          }

        });
      },
      sticky() {
        if( window.innerWidth > 1024) {
          let lineup = this.$gsap.timeline({
            scrollTrigger: {
              trigger: ".artistes .container",
              start: "top top+=450",
              end: "top top+=50",
              scrub: true,
            }
          })
          .fromTo(".marqueelineup",
            { "font-size": "100px", "line-height": "100px","color": "#95165d", ease: "none", stagger: 0.5, ease: 'power2.inOut'},
            { "font-size": "45px", "line-height": "75px","color": "#000", ease: "none", stagger: 0.5, ease: 'power2.inOut'}
          )
        }
        if( window.innerWidth <= 1024) {
          let lineup = this.$gsap.timeline({
            scrollTrigger: {
              trigger: ".artistes .container",
              start: "top top+=450",
              end: "top top+=50",
              scrub: true,
            }
          })
          .fromTo(".marqueelineup",
            { "font-size": "75px", "line-height": "75px","color": "#95165d", ease: "none", stagger: 0.5, ease: 'power2.inOut'},
            { "font-size": "35px", "line-height": "75px","color": "#000", ease: "none", stagger: 0.5, ease: 'power2.inOut'}
          )
        }
      },

    },
    mounted() {
        this.follow();
        this.opacity();
        this.sticky();
        window.addEventListener('resize', this.sticky)
    }
  }
</script>
